1. # å›¢é˜Ÿæ¨¡å—æ¥å£æ–‡æ¡£

   ## ğŸ“‹ æ–‡æ¡£è¯´æ˜

   - **Base URL**: `/api/teams`
   - **è®¤è¯æ–¹å¼**: Bearer Token (JWT)
   - **å“åº”æ ¼å¼**: `ResponseEntity<Map<String, Object>>`
   - **ç»Ÿä¸€æˆåŠŸå“åº”æ ¼å¼**:

   json

   ```
   {
     "code": 200,
     "message": "success",
     "data": { /* ä¸šåŠ¡æ•°æ® */ },
     "timestamp": 1621234567890
   }
   ```

   

   ------

   ## ğŸ“Š æ¥å£æ±‡æ€»ï¼ˆå…±12ä¸ªæ¥å£ï¼‰

   ### 1. å›¢é˜Ÿç®¡ç†æ¥å£ï¼ˆ5ä¸ªï¼‰

   1.1 è·å–æˆ‘çš„å›¢é˜Ÿåˆ—è¡¨
   1.3 è·å–å›¢é˜Ÿè¯¦æƒ…
   1.4 æ›´æ–°å›¢é˜Ÿä¿¡æ¯
   1.5 åˆ›å»ºåä½œå›¢é˜Ÿ
   1.6 è§£æ•£å›¢é˜Ÿ

   ### 2. æˆå‘˜ç®¡ç†æ¥å£ï¼ˆ5ä¸ªï¼‰

   2.1 è·å–å›¢é˜Ÿæˆå‘˜åˆ—è¡¨
   2.2 ä¿®æ”¹æˆå‘˜è§’è‰²
   2.3 ç§»é™¤å›¢é˜Ÿæˆå‘˜
   2.4 é€€å‡ºå›¢é˜Ÿ
   2.5 è½¬è®©å›¢é˜Ÿæ‰€æœ‰æƒ

   ### 3. é‚€è¯·ç®¡ç†æ¥å£ï¼ˆ2ä¸ªï¼‰

   3.1 å‘é€å›¢é˜Ÿé‚€è¯·
   5.1 éªŒè¯é‚€è¯·ä»¤ç‰Œ

   ------

   ## ğŸ“‹ è¯¦ç»†æ¥å£æ–‡æ¡£

   ## 1. å›¢é˜Ÿç®¡ç†æ¥å£

   ### 1.1 è·å–æˆ‘çš„å›¢é˜Ÿåˆ—è¡¨

   - **URL**: `GET /my`
   - **æè¿°**: è·å–å½“å‰ç”¨æˆ·çš„æ‰€æœ‰å›¢é˜Ÿ
   - **æƒé™**: å·²ç™»å½•ç”¨æˆ·

   **è¯·æ±‚å‚æ•°**:

   | å‚æ•°å  | ç±»å‹    | å¿…å¡« | æè¿°          | ç¤ºä¾‹   |
   | :------ | :------ | :--- | :------------ | :----- |
   | page    | Integer | å¦   | é¡µç ï¼Œä»1å¼€å§‹ | 1      |
   | size    | Integer | å¦   | æ¯é¡µå¤§å°      | 20     |
   | keyword | String  | å¦   | å›¢é˜Ÿåç§°æœç´¢  | "è®¾è®¡" |

   **æˆåŠŸå“åº”** (code: 200):

   json

   ```
   {
     "code": 200,
     "message": "è·å–æˆåŠŸ",
     "data": {
       "teams": [
         {
           "id": "team_123",
           "name": "æˆ‘çš„ä¸ªäººå›¢é˜Ÿ",
           "avatarUrl": "https://example.com/avatar.jpg",
           "description": "ä¸ªäººå·¥ä½œç©ºé—´",
           "isPersonal": true,
           "teamType": "ä¸ªäººå›¢é˜Ÿ",
           "ownerName": "å¼ ä¸‰",
           "memberCount": 1,
           "createdAt": "2024-01-01T00:00:00Z",
           "updatedAt": "2024-01-01T00:00:00Z",
           "userRole": "owner"
         }
       ],
       "total": 1,
       "page": 1,
       "size": 20
     },
     "timestamp": 1621234567890
   }
   ```

   

   ------

   ### 1.3 è·å–å›¢é˜Ÿè¯¦æƒ…

   - **URL**: `GET /{teamId}`
   - **æè¿°**: è·å–å›¢é˜Ÿè¯¦ç»†ä¿¡æ¯
   - **æƒé™**: å›¢é˜Ÿæˆå‘˜

   **è·¯å¾„å‚æ•°**:

   | å‚æ•°å | ç±»å‹   | å¿…å¡« | æè¿°   |
   | :----- | :----- | :--- | :----- |
   | teamId | String | æ˜¯   | å›¢é˜ŸID |

   **æˆåŠŸå“åº”** (code: 200):

   json

   ```
   {
     "code": 200,
     "message": "è·å–æˆåŠŸ",
     "data": {
       "id": "team_123",
       "name": "è®¾è®¡å›¢é˜Ÿ",
       "avatarUrl": "https://example.com/avatar.jpg",
       "description": "ä¸“æ³¨äºUI/UXè®¾è®¡çš„å›¢é˜Ÿ",
       "isPersonal": false,
       "teamType": "åä½œå›¢é˜Ÿ",
       "ownerId": 123,
       "ownerName": "å¼ ä¸‰",
       "createdAt": "2024-01-01T00:00:00Z",
       "updatedAt": "2024-01-01T00:00:00Z",
       "currentUserRole": "owner"
     },
     "timestamp": 1621234567890
   }
   ```

   

   ------

   ### 1.4 æ›´æ–°å›¢é˜Ÿä¿¡æ¯

   - **URL**: `PUT /{teamId}`
   - **æè¿°**: æ›´æ–°å›¢é˜ŸåŸºæœ¬ä¿¡æ¯
   - **æƒé™**: æ‰€æœ‰è€…æˆ–ç®¡ç†å‘˜

   **è·¯å¾„å‚æ•°**:

   | å‚æ•°å | ç±»å‹   | å¿…å¡« | æè¿°   |
   | :----- | :----- | :--- | :----- |
   | teamId | String | æ˜¯   | å›¢é˜ŸID |

   **è¯·æ±‚ä½“**:

   json

   ```
   {
     "name": "æ–°å›¢é˜Ÿåç§°",
     "avatarUrl": "https://example.com/new-avatar.jpg",
     "description": "æ›´æ–°åçš„å›¢é˜Ÿæè¿°"
   }
   ```

   

   **æˆåŠŸå“åº”** (code: 200):

   json

   ```
   {
     "code": 200,
     "message": "å›¢é˜Ÿä¿¡æ¯æ›´æ–°æˆåŠŸ",
     "data": {
       "id": "team_123",
       "name": "æ–°å›¢é˜Ÿåç§°",
       "avatarUrl": "https://example.com/new-avatar.jpg",
       "description": "æ›´æ–°åçš„å›¢é˜Ÿæè¿°",
       "updatedAt": "2024-01-01T12:00:00Z"
     },
     "timestamp": 1621234567890
   }
   ```

   

   ------

   ### 1.5 åˆ›å»ºåä½œå›¢é˜Ÿ

   - **URL**: `POST /collaboration`
   - **æè¿°**: åˆ›å»ºæ–°çš„åä½œå›¢é˜Ÿ
   - **æƒé™**: å·²ç™»å½•ç”¨æˆ·

   **è¯·æ±‚ä½“**:

   json

   ```
   {
     "name": "æ–°åä½œå›¢é˜Ÿ",
     "avatarUrl": "https://example.com/avatar.jpg",
     "description": "å›¢é˜Ÿæè¿°ä¿¡æ¯",
     "initialMembers": [
       {
         "userId": 456,
         "role": "member"
       }
     ]
   }
   ```

   

   **æˆåŠŸå“åº”** (code: 201):

   json

   ```
   {
     "code": 201,
     "message": "åä½œå›¢é˜Ÿåˆ›å»ºæˆåŠŸ",
     "data": {
       "team": {
         "id": "team_new_123",
         "name": "æ–°åä½œå›¢é˜Ÿ",
         "avatarUrl": "https://example.com/avatar.jpg",
         "description": "å›¢é˜Ÿæè¿°ä¿¡æ¯",
         "isPersonal": false,
         "teamType": "åä½œå›¢é˜Ÿ",
         "ownerId": 123,
         "ownerName": "å¼ ä¸‰",
         "createdAt": "2024-01-01T00:00:00Z"
       },
       "invitations": [
         {
           "inviteeId": 456,
           "role": "member",
           "status": "PENDING"
         }
       ]
     },
     "timestamp": 1621234567890
   }
   ```

   

   ------

   ### 1.6 è§£æ•£å›¢é˜Ÿ

   - **URL**: `DELETE /{teamId}`
   - **æè¿°**: è§£æ•£å›¢é˜Ÿ
   - **æƒé™**: ä»…å›¢é˜Ÿæ‰€æœ‰è€…

   **è·¯å¾„å‚æ•°**:

   | å‚æ•°å | ç±»å‹   | å¿…å¡« | æè¿°   |
   | :----- | :----- | :--- | :----- |
   | teamId | String | æ˜¯   | å›¢é˜ŸID |

   **è¯·æ±‚ä½“**:

   json

   ```
   {
     "confirmation": "ç¡®è®¤è§£æ•£å›¢é˜Ÿ",
     "reason": "é¡¹ç›®ç»“æŸ"
   }
   ```

   

   **æˆåŠŸå“åº”** (code: 200):

   json

   ```
   {
     "code": 200,
     "message": "å›¢é˜Ÿè§£æ•£æˆåŠŸ",
     "data": {
       "teamId": "team_123",
       "teamName": "è®¾è®¡å›¢é˜Ÿ",
       "dissolvedAt": "2024-01-01T12:00:00Z",
       "reason": "é¡¹ç›®ç»“æŸ"
     },
     "timestamp": 1621234567890
   }
   ```

   

   ------

   ## 2. æˆå‘˜ç®¡ç†æ¥å£

   ### 2.1 è·å–å›¢é˜Ÿæˆå‘˜åˆ—è¡¨

   - **URL**: `GET /{teamId}/members`
   - **æè¿°**: è·å–å›¢é˜Ÿæˆå‘˜åˆ—è¡¨
   - **æƒé™**: å›¢é˜Ÿæˆå‘˜

   **è·¯å¾„å‚æ•°**:

   | å‚æ•°å | ç±»å‹   | å¿…å¡« | æè¿°   |
   | :----- | :----- | :--- | :----- |
   | teamId | String | æ˜¯   | å›¢é˜ŸID |

   **è¯·æ±‚å‚æ•°**:

   | å‚æ•°å  | ç±»å‹    | å¿…å¡« | æè¿°     | ç¤ºä¾‹    |
   | :------ | :------ | :--- | :------- | :------ |
   | page    | Integer | å¦   | é¡µç      | 1       |
   | size    | Integer | å¦   | æ¯é¡µå¤§å° | 20      |
   | role    | String  | å¦   | è§’è‰²ç­›é€‰ | "admin" |
   | keyword | String  | å¦   | å§“åæœç´¢ | "å¼ ä¸‰"  |

   **æˆåŠŸå“åº”** (code: 200):

   json

   ```
   {
     "code": 200,
     "message": "è·å–æˆåŠŸ",
     "data": {
       "members": [
         {
           "id": "member_123",
           "userId": 123,
           "userName": "å¼ ä¸‰",
           "userAvatar": "https://example.com/avatar1.jpg",
           "role": "owner",
           "roleCn": "æ‰€æœ‰è€…",
           "joinedAt": "2024-01-01T00:00:00Z",
           "canRemove": false,
           "canChangeRole": false
         }
       ],
       "total": 5,
       "page": 1,
       "size": 20
     },
     "timestamp": 1621234567890
   }
   ```

   

   ------

   ### 2.2 ä¿®æ”¹æˆå‘˜è§’è‰²

   - **URL**: `PUT /{teamId}/members/{memberId}/role`
   - **æè¿°**: ä¿®æ”¹å›¢é˜Ÿæˆå‘˜è§’è‰²
   - **æƒé™**: æ‰€æœ‰è€…æˆ–ç®¡ç†å‘˜

   **è·¯å¾„å‚æ•°**:

   | å‚æ•°å   | ç±»å‹   | å¿…å¡« | æè¿°       |
   | :------- | :----- | :--- | :--------- |
   | teamId   | String | æ˜¯   | å›¢é˜ŸID     |
   | memberId | String | æ˜¯   | æˆå‘˜è®°å½•ID |

   **è¯·æ±‚ä½“**:

   json

   ```
   {
     "role": "admin"
   }
   ```

   

   **è§’è‰²å˜æ›´è§„åˆ™**:

   - æ‰€æœ‰è€…ï¼šå¯ä»¥ä¿®æ”¹ç®¡ç†å‘˜ã€æˆå‘˜ã€è®¿å®¢çš„è§’è‰²
   - ç®¡ç†å‘˜ï¼šå¯ä»¥ä¿®æ”¹æˆå‘˜ã€è®¿å®¢çš„è§’è‰²
   - ä¸èƒ½ä¿®æ”¹è‡ªå·±çš„è§’è‰²
   - ä¸èƒ½å°†è§’è‰²ä¿®æ”¹ä¸ºownerï¼ˆåªèƒ½é€šè¿‡è½¬è®©æ‰€æœ‰æƒï¼‰

   **æˆåŠŸå“åº”** (code: 200):

   json

   ```
   {
     "code": 200,
     "message": "æˆå‘˜è§’è‰²ä¿®æ”¹æˆåŠŸ",
     "data": {
       "memberId": "member_456",
       "userId": 456,
       "userName": "æå››",
       "oldRole": "member",
       "newRole": "admin"
     },
     "timestamp": 1621234567890
   }
   ```

   

   ------

   ### 2.3 ç§»é™¤å›¢é˜Ÿæˆå‘˜

   - **URL**: `DELETE /{teamId}/members/{memberId}`
   - **æè¿°**: å°†æˆå‘˜ä»å›¢é˜Ÿä¸­ç§»é™¤
   - **æƒé™**: æ‰€æœ‰è€…æˆ–ç®¡ç†å‘˜

   **è·¯å¾„å‚æ•°**:

   | å‚æ•°å   | ç±»å‹   | å¿…å¡« | æè¿°       |
   | :------- | :----- | :--- | :--------- |
   | teamId   | String | æ˜¯   | å›¢é˜ŸID     |
   | memberId | String | æ˜¯   | æˆå‘˜è®°å½•ID |

   **ç§»é™¤è§„åˆ™**:

   - æ‰€æœ‰è€…ï¼šå¯ä»¥ç§»é™¤ç®¡ç†å‘˜ã€æˆå‘˜ã€è®¿å®¢
   - ç®¡ç†å‘˜ï¼šå¯ä»¥ç§»é™¤æˆå‘˜ã€è®¿å®¢
   - ä¸èƒ½ç§»é™¤å›¢é˜Ÿæ‰€æœ‰è€…
   - ä¸èƒ½ç§»é™¤è‡ªå·±ï¼ˆé€šè¿‡é€€å‡ºå›¢é˜Ÿæ¥å£ï¼‰

   **æˆåŠŸå“åº”** (code: 200):

   json

   ```
   {
     "code": 200,
     "message": "æˆå‘˜ç§»é™¤æˆåŠŸ",
     "data": {
       "memberId": "member_789",
       "userId": 789,
       "userName": "ç‹äº”"
     },
     "timestamp": 1621234567890
   }
   ```

   

   ------

   ### 2.4 é€€å‡ºå›¢é˜Ÿ

   - **URL**: `DELETE /{teamId}/members/self`
   - **æè¿°**: å½“å‰ç”¨æˆ·ä¸»åŠ¨é€€å‡ºå›¢é˜Ÿ
   - **æƒé™**: å›¢é˜Ÿæˆå‘˜ï¼ˆé™¤æ‰€æœ‰è€…ï¼‰

   **è·¯å¾„å‚æ•°**:

   | å‚æ•°å | ç±»å‹   | å¿…å¡« | æè¿°   |
   | :----- | :----- | :--- | :----- |
   | teamId | String | æ˜¯   | å›¢é˜ŸID |

   **æˆåŠŸå“åº”** (code: 200):

   json

   ```
   {
     "code": 200,
     "message": "æˆåŠŸé€€å‡ºå›¢é˜Ÿ",
     "data": {
       "teamId": "team_123",
       "teamName": "è®¾è®¡å›¢é˜Ÿ",
       "userId": 456,
       "userName": "æå››"
     },
     "timestamp": 1621234567890
   }
   ```

   

   ------

   ### 2.5 è½¬è®©å›¢é˜Ÿæ‰€æœ‰æƒ

   - **URL**: `POST /{teamId}/transfer-ownership`
   - **æè¿°**: è½¬è®©å›¢é˜Ÿæ‰€æœ‰æƒç»™å…¶ä»–æˆå‘˜
   - **æƒé™**: ä»…å›¢é˜Ÿæ‰€æœ‰è€…

   **è·¯å¾„å‚æ•°**:

   | å‚æ•°å | ç±»å‹   | å¿…å¡« | æè¿°   |
   | :----- | :----- | :--- | :----- |
   | teamId | String | æ˜¯   | å›¢é˜ŸID |

   **è¯·æ±‚ä½“**:

   json

   ```
   {
     "newOwnerMemberId": "member_456"
   }
   ```

   

   **æˆåŠŸå“åº”** (code: 200):

   json

   ```
   {
     "code": 200,
     "message": "å›¢é˜Ÿæ‰€æœ‰æƒè½¬è®©æˆåŠŸ",
     "data": {
       "teamId": "team_123",
       "oldOwnerId": 123,
       "newOwnerId": 456
     },
     "timestamp": 1621234567890
   }
   ```

   

   ------

   ## 3. é‚€è¯·ç®¡ç†æ¥å£

   ### 3.1 å‘é€å›¢é˜Ÿé‚€è¯·

   - **URL**: `POST /{teamId}/invitations`
   - **æè¿°**: å‘é€å›¢é˜Ÿé‚€è¯·ç»™å…¶ä»–ç”¨æˆ·
   - **æƒé™**: æ‰€æœ‰è€…æˆ–ç®¡ç†å‘˜

   **è·¯å¾„å‚æ•°**:

   | å‚æ•°å | ç±»å‹   | å¿…å¡« | æè¿°   |
   | :----- | :----- | :--- | :----- |
   | teamId | String | æ˜¯   | å›¢é˜ŸID |

   **è¯·æ±‚ä½“**:

   json

   ```
   {
     "invitees": [
       {
         "email": "newuser@example.com",
         "role": "member"
       },
       {
         "userId": 789,
         "role": "member"
       }
     ]
   }
   ```

   

   **é‚€è¯·è§„åˆ™**:

   - æ‰€æœ‰è€…ï¼šå¯ä»¥é‚€è¯·ç”¨æˆ·ä¸ºadmin/member/visitor
   - ç®¡ç†å‘˜ï¼šå¯ä»¥é‚€è¯·ç”¨æˆ·ä¸ºmember/visitor
   - ä¸èƒ½é‚€è¯·å·²æ˜¯å›¢é˜Ÿæˆå‘˜çš„ç”¨æˆ·

   **æˆåŠŸå“åº”** (code: 201):

   json

   ```
   {
     "code": 201,
     "message": "é‚€è¯·å‘é€æˆåŠŸ",
     "data": {
       "totalInvited": 2,
       "successCount": 2,
       "invitations": [
         {
           "inviteeEmail": "newuser@example.com",
           "role": "member",
           "status": "PENDING"
         }
       ]
     },
     "timestamp": 1621234567890
   }
   ```

   

   ------

   ### 5.1 éªŒè¯é‚€è¯·ä»¤ç‰Œ

   - **URL**: `GET /invitations/validate`
   - **æè¿°**: éªŒè¯é‚€è¯·ä»¤ç‰Œæœ‰æ•ˆæ€§ï¼ˆå…¬å¼€æ¥å£ï¼‰
   - **æƒé™**: æ— éœ€è®¤è¯

   **è¯·æ±‚å‚æ•°**:

   | å‚æ•°å | ç±»å‹   | å¿…å¡« | æè¿°     | ç¤ºä¾‹          |
   | :----- | :----- | :--- | :------- | :------------ |
   | token  | String | æ˜¯   | é‚€è¯·ä»¤ç‰Œ | "abc123token" |

   **æˆåŠŸå“åº”**:

   json

   ```
   {
     "code": 200,
     "message": "é‚€è¯·éªŒè¯æˆåŠŸ",
     "data": {
       "valid": true,
       "invitation": {
         "teamId": "team_123",
         "teamName": "è®¾è®¡å›¢é˜Ÿ",
         "teamAvatar": "https://example.com/avatar.jpg",
         "inviterName": "å¼ ä¸‰",
         "role": "member"
       }
     },
     "timestamp": 1621234567890
   }
   ```

   

   **å¤±è´¥å“åº”**:

   json

   ```
   {
     "code": 400,
     "message": "é‚€è¯·é“¾æ¥å·²å¤±æ•ˆ",
     "data": {
       "valid": false,
       "reason": "EXPIRED"
     },
     "timestamp": 1621234567890
   }
   ```

   

   ------

   ## âš ï¸ æƒé™è§„åˆ™æ€»ç»“

   | æ“ä½œ          | æ‰€æœ‰è€…       | ç®¡ç†å‘˜                     | æˆå‘˜ |
   | :------------ | :----------- | :------------------------- | :--- |
   | æŸ¥çœ‹å›¢é˜Ÿä¿¡æ¯  | âœ…            | âœ…                          | âœ…    |
   | æ›´æ–°å›¢é˜Ÿä¿¡æ¯  | âœ…            | âœ…                          | âŒ    |
   | åˆ›å»ºåä½œå›¢é˜Ÿ  | âœ…            | âœ…                          | âœ…    |
   | è§£æ•£å›¢é˜Ÿ      | âœ…            | âŒ                          | âŒ    |
   | æŸ¥çœ‹æˆå‘˜åˆ—è¡¨  | âœ…            | âœ…                          | âœ…    |
   | ä¿®æ”¹æˆå‘˜è§’è‰²  | âœ…            | âœ… (åªèƒ½æ”¹member/visitor)   | âŒ    |
   | ç§»é™¤æˆå‘˜      | âœ…            | âœ… (åªèƒ½ç§»é™¤member/visitor) | âŒ    |
   | é€€å‡ºå›¢é˜Ÿ      | âŒ (éœ€å…ˆè½¬è®©) | âœ…                          | âœ…    |
   | è½¬è®©æ‰€æœ‰æƒ    | âœ…            | âŒ                          | âŒ    |
   | å‘é€é‚€è¯·      | âœ…            | âœ… (åªèƒ½é‚€è¯·member/visitor) | âŒ    |
   | æ“ä½œé¡¹ç›®/æ–‡ä»¶ | âœ…            | âœ…                          | âœ…    |

   ------

   ## ğŸ“ æ³¨æ„äº‹é¡¹

   1. **æƒé™éªŒè¯**: æ‰€æœ‰æ¥å£éƒ½éœ€è¦éªŒè¯ç”¨æˆ·æƒé™
   2. **äº‹åŠ¡å¤„ç†**: é‡è¦æ“ä½œéœ€è¦äº‹åŠ¡ä¿è¯
   3. **æ•°æ®å®‰å…¨**: é˜²æ­¢è¶Šæƒæ“ä½œ
   4. **é”™è¯¯å¤„ç†**: ç»Ÿä¸€çš„é”™è¯¯å“åº”æ ¼å¼
   5. **æ—¥å¿—è®°å½•**: é‡è¦æ“ä½œéœ€è¦è®°å½•æ—¥å¿—

   è¿™12ä¸ªæ¥å£æ¶µç›–äº†å›¢é˜Ÿç®¡ç†çš„æ‰€æœ‰æ ¸å¿ƒåŠŸèƒ½ï¼Œç®€æ´è€Œå®Œæ•´ã€‚